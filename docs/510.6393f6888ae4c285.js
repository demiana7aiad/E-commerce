"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[510],{9510:(v,u,r)=>{r.r(u),r.d(u,{ProductsComponent:()=>O});var a=r(6814),p=r(1120),h=r(8129),c=r(95),t=r(4769),d=r(0),n=r(6286),l=r(2425),f=r(9196);function C(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"i",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,_=t.oxw(2);return t.KtG(_.addWishlist(o._id))}),t.qZA()}}function x(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"i",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,_=t.oxw(2);return t.KtG(_.removeWishlist(o._id))}),t.qZA()}}const P=function(i){return["/productdetails",i]};function M(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._UZ(3,"img",8),t.TgZ(4,"p",9),t._uU(5),t.qZA(),t.TgZ(6,"h2",10),t._uU(7),t.ALo(8,"cuttext"),t.qZA(),t.TgZ(9,"div",11)(10,"span",12),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"span"),t._UZ(14,"i",13),t._uU(15),t.qZA()()(),t.TgZ(16,"div")(17,"button",14,15),t.NdJ("click",function(){const _=t.CHM(e).$implicit,g=t.MAs(18),T=t.oxw(2);return t.KtG(T.addProduct(_._id,g))}),t._uU(19," + Add"),t.qZA(),t.YNc(20,C,1,0,"i",16),t.YNc(21,x,1,0,"i",17),t.qZA()()()}if(2&i){const e=m.$implicit,s=t.oxw(2);t.xp6(2),t.Q6J("routerLink",t.VKq(16,P,e._id)),t.xp6(1),t.Q6J("src",e.imageCover,t.LSH)("title",e.title)("alt",e.title),t.xp6(2),t.Oqu(e.category.name),t.xp6(2),t.Oqu(t.xi3(8,10,e.title,2)),t.xp6(4),t.Oqu(t.xi3(12,13,e.price,"EGP")),t.xp6(4),t.hij(" ",e.ratingsAverage," "),t.xp6(5),t.Q6J("ngIf",!s.wishListData.includes(e._id)),t.xp6(1),t.Q6J("ngIf",s.wishListData.includes(e._id))}}function E(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"input",2),t.NdJ("ngModelChange",function(o){t.CHM(e);const _=t.oxw();return t.KtG(_.term=o)}),t.qZA(),t.TgZ(2,"div",3),t.YNc(3,M,22,18,"div",4),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.term),t.xp6(2),t.Q6J("ngForOf",e.products)}}let O=(()=>{class i{constructor(e,s,o,_,g){this._ProductService=e,this._CartService=s,this._ToastrService=o,this._Renderer2=_,this._WishlistService=g,this.products=[],this.term="",this.wishListData=[]}ngOnInit(){this._ProductService.getProducts().subscribe({next:e=>{console.log(e.data),this.products=e.data}}),this._WishlistService.getWishlist().subscribe({next:e=>{const s=e.data.map(o=>o._id);this.wishListData=s}})}addProduct(e,s){this._Renderer2.setAttribute(s,"hidden","true"),this._CartService.addToCart(e).subscribe({next:o=>{this._ToastrService.success("It has been successfully added"),this._CartService.cartNumber.next(o.numOfCartItems),this._Renderer2.removeAttribute(s,"hidden")},error:o=>{this._Renderer2.removeAttribute(s,"hidden")}})}addWishlist(e){this._WishlistService.addToWishlist(e).subscribe({next:s=>{this._ToastrService.success("It has been successfully added "),this.wishListData=s.data}})}removeWishlist(e){this._WishlistService.removeWishlist(e).subscribe({next:s=>{this._ToastrService.success("It has been successfully removed "),this.wishListData=s.data}})}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(d.M),t.Y36(n.N),t.Y36(l._W),t.Y36(t.Qsj),t.Y36(f.M))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-products"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","container rounded shadow p-5 py-4 mt-4",4,"ngIf"],[1,"container","rounded","shadow","p-5","py-4","mt-4"],["type","text","placeholder","search....",1,"w-75","mx-auto","form-control","my-5","ng-untouched","ng-pristine","ng-valid",3,"ngModel","ngModelChange"],[1,"row","g-4","d-flex"],["class","col-sm-12 col-md-6 col-lg-3 col-xl-3",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","col-lg-3","col-xl-3"],[1,"product","px-2","py-4","rounded","h-100"],["role","button",3,"routerLink"],[1,"w-100","rounded",3,"src","title","alt"],[1,"text"],[1,"h6","fw-bold","text"],[1,"d-flex","align-items-center","justify-content-between","text"],[1,"small"],[1,"fas","fa-star","rating-color"],[1,"w-75","btn","main-btn","mt-4","py-2",3,"click"],["btnAdd",""],["class","fa-solid fa-heart fa-xl","style","color: #000000;",3,"click",4,"ngIf"],["class","fa-solid fa-heart fa-xl","style","color: #ff0000;",3,"click",4,"ngIf"],[1,"fa-solid","fa-heart","fa-xl",2,"color","#000000",3,"click"],[1,"fa-solid","fa-heart","fa-xl",2,"color","#ff0000",3,"click"]],template:function(s,o){1&s&&t.YNc(0,E,4,2,"div",0),2&s&&t.Q6J("ngIf",o.products.length>0)},dependencies:[a.ez,a.sg,a.O5,a.H9,p.rH,h.r,c.u5,c.Fj,c.JJ,c.On],styles:[".container[_ngcontent-%COMP%]{background-color:#013941}.text[_ngcontent-%COMP%]{color:#aceaf0}.product[_ngcontent-%COMP%]{overflow:hidden}.product[_ngcontent-%COMP%]:hover   .main-btn[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}.product[_ngcontent-%COMP%]   .main-btn[_ngcontent-%COMP%]{transform:translateY(200%);transition:all .5s;opacity:0}"]})}return i})()},6286:(v,u,r)=>{r.d(u,{N:()=>c});var a=r(5619),p=r(4769),h=r(9862);let c=(()=>{class t{constructor(n){this._HttpClient=n,this.baseUrl="https://ecommerce.routemisr.com/api/v1/",this.cartNumber=new a.X(0)}addToCart(n){return this._HttpClient.post(this.baseUrl+"cart",{productId:n})}getCartUser(){return this._HttpClient.get(this.baseUrl+"cart")}removeCartItem(n){return this._HttpClient.delete(this.baseUrl+`cart/${n}`)}updateCartCount(n,l){return this._HttpClient.put(this.baseUrl+`cart/${n}`,{count:l})}clearCart(){return this._HttpClient.delete(this.baseUrl+"cart")}checkOut(n,l){return this._HttpClient.post(this.baseUrl+`orders/checkout-session/${n}?url=http://localhost:4200`,{shippingAddress:l})}static#t=this.\u0275fac=function(l){return new(l||t)(p.LFG(h.eN))};static#e=this.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},0:(v,u,r)=>{r.d(u,{M:()=>h});var a=r(4769),p=r(9862);let h=(()=>{class c{constructor(d){this._HttpClient=d,this.baseUrl="https://ecommerce.routemisr.com/api/v1/"}getProducts(){return this._HttpClient.get(this.baseUrl+"products")}getCategories(){return this._HttpClient.get(this.baseUrl+"categories")}getSubCategories(d){return this._HttpClient.get("https://route-ecommerce.onrender.com//api/v1/subcategories")}getproductDetails(d){return this._HttpClient.get(this.baseUrl+`products/${d}`)}getBrands(){return this._HttpClient.get(this.baseUrl+"brands")}static#t=this.\u0275fac=function(n){return new(n||c)(a.LFG(p.eN))};static#e=this.\u0275prov=a.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()}}]);